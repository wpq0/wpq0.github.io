<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Sass</title>
    <meta name="author" content="Hoàng Vũ" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,800&subset=latin,vietnamese' rel='stylesheet' type='text/css' />
    <link href="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/codemirror.min.css" rel="stylesheet" />
    <link href="/css/sass-slide/slide.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.min.js" type="text/javascript"></script>
</head>
<body>
    <button type="button" id="btnNext">Next</button>
    <button type="button" id="btnPrev">Prev</button>
    <section id="slide-0" class="slide current" data-stage="0">
        <div class="slide-content">
            <img src="/images/sass.svg" />
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-0.css" rel="stylesheet" />
    </section>
    <section id="slide-1" class="slide next">
        <div class="slide-content">
            <h2>Just CSS &trade;</h2>
        </div>
    </section>
    <section id="slide-1-1" class="slide">
        <div class="slide-content">
            <h2>CSS files are huge</h2>
            <p>TODO:example</p>
        </div>
    </section>
    <section id="slide-2" class="slide">
        <div class="slide-content">
            <h2>A superset of CSS</h2>
            <p>
                All valid CSS are valid SCSS
                <br />
                + variables
                <br />
                + flow control
                <br />
                + reusable blocks of code
                <br />
                TODO:visual (Venn diagram)
            </p>
        </div>
    </section>
    <section id="slide-4" class="slide">
        <div class="slide-content">
            <h2>Benefits</h2>
            <p>
                Keep complexity in check
                <br />
                Improve usability
            </p>
        </div>
    </section>
    <section id="slide-3" class="slide">
        <div class="slide-content">
            <h2>Leverage your existing<br /> CSS experience</h2>
            <p>
                Familiar syntax
                <br />
                Low learning curve
                <br />
                Almost immediate integration
            </p>
        </div>
    </section>
    <section id="slide-5" class="slide">
        <div class="slide-content">
            <h2>A <em>pre</em>processor, NOT a runtime</h2>
        </div>
    </section>
    <section id="slide-6" class="slide">
        <div class="slide-content">
            <h2>Nesting</h2>
            <p>
                HTML is hierachical, CSS is linear
                <br />
                SASS brings hierachy and structure to your CSS
                <br />
                TODO:screenshot + demo
            </p>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-6.css" rel="stylesheet" />
    </section>
    <section id="slide-7" class="slide">
        <div class="slide-content">
            <h2>Caveat: not too much nesting</h2>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-7.css" rel="stylesheet" />
    </section>
    <section id="slide-8" class="slide">
        <div class="slide-content">
            <h2>Variables: colors</h2>
            <p>
                <div class="canvas">
                </div>
            </p>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-12.css" rel="stylesheet" />
    </section>
    <section id="slide-9" class="slide">
        <div class="slide-content">
            <h2>Variables: measurements</h2>
            <p>
                TODO:demo
            </p>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-8.css" rel="stylesheet" />
    </section>
    <section id="slide-10" class="slide">
        <div class="slide-content">
            <h2>Variables: media queries</h2>
            <p>
                TODO:demo, responsive design
            </p>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-8.css" rel="stylesheet" />
    </section>
    <section id="slide-11" class="slide">
        <div class="slide-content">
            <h2>Data structure: list, hash</h2>
            <p>
                TODO:demo, icon fonts
            </p>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-8.css" rel="stylesheet" />
    </section>
    <section id="slide-12" class="slide">
        <div class="slide-content">
            <h2>Mixin</h2>
            <div class="canvas">
            </div>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-12a.css" rel="stylesheet" />
    </section>
    <section id="slide-13" class="slide">
        <div class="slide-content">
            <h2>Mixin</h2>
            <p>
                TODO:demo, animation effects
            </p>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-8.css" rel="stylesheet" />
    </section>
    <section id="slide-14" class="slide">
        <div class="slide-content">
            <h2>Control flow</h2>
            <p>
                TODO:demo, animation effects, if, else, for-loop
            </p>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-8.css" rel="stylesheet" />
    </section>
    <section id="slide-16" class="slide">
        <div class="slide-content">
            <h2>God is in the details</h2>
        </div>
        <textarea class="source-scss" hidden></textarea>
        <textarea class="source-css" hidden></textarea>
        <link href="css/sass-slide/slide-8.css" rel="stylesheet" />
    </section>
    <div id="sources" class="">
        <div class="row">
            <div class="columns medium-6">
                <h3>SCSS</h3>
                <textarea id="source-scss">.code{ color:red; }</textarea>
            </div>
            <div class="columns medium-6">
                <h3>CSS</h3>
                <textarea id="source-css">.code{ color:red; }</textarea>
            </div>
        </div>
        <button type="button" id="btnSave">→</button>
        <button type="button" id="btnToggle">Toggle</button>
    </div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/codemirror.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/css/css.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/sass/sass.min.js" type="text/javascript"></script>
    <script src="/js/sass.min.js"></script>
    <script type="text/javascript">
        //editor
        $(function () {
            var scssDoc = CodeMirror.fromTextArea(document.getElementById("source-scss"), {
                mode: "sass"
            });
            var cssDoc = CodeMirror.fromTextArea(document.getElementById("source-css"), {
                mode: "css"
            });
            $("#btnSave").click(function () {
                var scssStr = scssDoc.getValue();
                var cssStr = Sass.compile(scssStr);
                cssDoc.setValue(cssStr);
                $(document).triggerHandler("compile", [scssStr, cssStr]);
            });

            $(document).on("slide-load", function (evt, $slideElem) {
                var scssStr = $slideElem.find(".source-scss").val();
                var cssStr = $slideElem.find(".source-css").val();
                if (!!scssStr && !!cssStr) {
                    cssDoc.setValue(cssStr);
                    scssDoc.setValue(scssStr);
                }
                else {
                    var cssUrl = $slideElem.find("link").attr("href");
                    if (cssUrl) {
                        var scssUrl = cssUrl.replace(".css", ".scss");
                        $.get(cssUrl).done(function (src) {
                            cssDoc.setValue(src);
                        });
                        $.get(scssUrl).done(function (src) {
                            scssDoc.setValue(src);
                        });
                    }
                }
            });

            $("#sources #btnToggle").click(function () {
                $("#sources").toggleClass("expanded");
            });
        });
    </script>
    <script type="text/javascript">
        //slideshow
        // no time, dumb code
        $("#btnNext").click(function () { $(document).triggerHandler("next-slide"); });
        $("#btnPrev").click(function () { $(document).triggerHandler("prev-slide"); });

        $(document).on("next-slide", function () {
            var $current = $(".slide.current"),
                $prev = $(".slide.prev"),
                $next = $(".slide.next");
            if ($next.length) {
                $prev.removeClass("prev");
                $current.removeClass("current").addClass("prev");
                $next.removeClass("next").addClass("current");
                $next.next(".slide").addClass("next");
                $(document).triggerHandler("slide-load", [$next]);
            }
        });

        $(document).on("prev-slide", function () {
            var $current = $(".slide.current"),
                $prev = $(".slide.prev"),
                $next = $(".slide.next");
            if ($prev.length) {
                $next.removeClass("next");
                $current.removeClass("current").addClass("next");
                $prev.removeClass("prev").addClass("current");
                $prev.prev(".slide").addClass("prev");
                $(document).triggerHandler("slide-load", [$prev]);
            }
        });

        var slide0Counter = 0;
        $("#slide-0").on("click", function () {
            $(this).attr("data-stage", ++slide0Counter % 3)
        });

        $(document).on("compile", function (evt, scssStr, cssStr) {
            //get active slide
            var $current = $(".slide.current");
            if ($current.length) {
                $current.find("link").remove();
                $current.find(".source-scss").val(scssStr);
                $current.find(".source-css").val(cssStr);
                $current.find("style").remove();
                $("<style>" + cssStr + "</style>").appendTo($current);
            }
        });
    </script>
</body>
</html>